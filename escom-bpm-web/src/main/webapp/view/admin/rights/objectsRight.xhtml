<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://xmlns.jcp.org/jsf/html">       

    <p:dataGrid id="dataGrid" var="state" value="#{metadatesBean.selectedObject.statesList}" columns="1" layout="grid" 
                emptyMessage="#{bundle.EmptyTable}"
                paginator="true" paginatorPosition="bottom" rows="7" style="font-size: 80%" >
        <p:accordionPanel>
            <p:tab title="#{bundle.State}: #{stateBean.getBundleName(state)}" rendered="#{metadatesBean.selectedObject != null}">

                <h:panelGrid columns="2" styleClass="ui-panelgrid-blank" >                
                    <p:commandButton id="btnRight" value="#{bundle.Add}" title="#{bundle.Add}" style="float: top;"
                                     icon="ui-icon-circle-plus"
                                     actionListener="#{metadatesBean.onAddRight(state)}">
                        <p:ajax event="dialogReturn" update="tblRightDoc"
                                    listener="#{metadatesBean.onCloseRightCard}"/>
                    </p:commandButton>
                    <p:dataTable id="tblRightDoc" value="#{metadatesBean.getRightsInState(state)}" 
                                 tableStyle="table-layout: auto;" styleClass="ui-grid-col-12 without-spaces"
                                 selection="#{metadatesBean.selRight}" emptyMessage="#{bundle.EmptyTable}"
                                 var="right">
                        <p:column headerText="#{bundle.RightOwner}">
                            <h:graphicImage value="/resources/icon/#{right.icon}.png"/>
                            <h:outputText value="#{right.name}"/>
                        </p:column>
                        <p:column headerText="#{bundle.Read}" style="text-align: center;">
                            <p:selectBooleanCheckbox value="#{right.read}" disabled="true"/>
                        </p:column>
                        <p:column headerText="#{bundle.Change}" style="text-align: center;">
                            <p:selectBooleanCheckbox value="#{right.update}" disabled="true"/>
                        </p:column>
                        <p:column headerText="#{bundle.Creating}" style="text-align: center;">                                    
                            <p:selectBooleanCheckbox value="#{right.create}" disabled="true"/>
                        </p:column>                        
                        <p:column headerText="#{bundle.Remove}" style="text-align: center;">
                            <p:selectBooleanCheckbox value="#{right.delete}"  disabled="true"/>                                        
                        </p:column> 
                        <p:column headerText="#{bundle.AddChildsRight}" width="100" style="text-align: center;">                                    
                            <p:selectBooleanCheckbox value="#{right.addChild}" disabled="true"/>
                        </p:column>
                        <p:column headerText="#{bundle.ChangeRight}" style="text-align: center;">                                    
                            <p:selectBooleanCheckbox value="#{right.changeRight}" disabled="true"/>
                        </p:column>                         
                        <p:column headerText="#{bundle.Commands}" style="text-align: center;" >
                            <h:panelGroup styleClass="ui-grid-col-12 without-spaces">
                                <p:commandButton icon="ui-icon-document" title="#{bundle.Edit}" 
                                                 actionListener="#{metadatesBean.onEditRight(right)}" >
                                    <p:ajax event="dialogReturn" update="tblRightDoc"
                                                listener="#{metadatesBean.onCloseRightCard}"/>
                                </p:commandButton>
                                <p:commandButton icon="ui-icon-trash" title="#{bundle.Delete}" 
                                                 update="tblRightDoc"
                                                 actionListener="#{metadatesBean.onDeleteRight(right)}" />
                            </h:panelGroup>
                        </p:column>                        
                    </p:dataTable>
                </h:panelGrid>  
            </p:tab>
        </p:accordionPanel>
    </p:dataGrid>

</ui:composition>