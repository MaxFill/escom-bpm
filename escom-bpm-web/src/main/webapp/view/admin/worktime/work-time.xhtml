<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 template="/view/templ/templ-dlg.xhtml"
                 xmlns:f="http://xmlns.jcp.org/jsf/core">          

    <ui:param name="_bean" value="#{workTimeCardBean}"/>

    <ui:define name="specToolButtons" >
        <p:commandButton icon="ui-icon-disk" title="#{bundle.SaveAndClose}" update="mainFRM"
                         actionListener="#{_bean.onCloseCard('save')}">
            <f:param name="isRequired" value="true"/>
       </p:commandButton>
        <span class="ui-separator">
            <span class="ui-icon ui-icon-grip-dotted-vertical" />
        </span>
    </ui:define> 
    
    <ui:define name="centerFormContent">
        <p:panelGrid columns="1" layout="grid" columnClasses="ui-grid-col-12" styleClass="ui-grid-col-12"> 
            <p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-2, ui-grid-col-10" styleClass="ui-grid-col-12 without-spaces">            
                <p:outputLabel value="#{bundle.Date}:"/>
                <p:outputLabel value="#{workTimeCardBean.editedItem.date}">                    
                </p:outputLabel>
            </p:panelGrid>
            <p:separator styleClass="ui-grid-col-12"/>
            <p:selectBooleanCheckbox value="#{workTimeCardBean.editedItem.standart}"
                                         itemLabel="#{bundle.StandardWorkingTime}"
                                         disabled="#{_bean.readOnly}">
                    <p:ajax update="gridWorkTime" process="@this" oncomplete="itemChange = 1;"/>
            </p:selectBooleanCheckbox>
        
            <p:panelGrid id="gridWorkTime" columns="2" layout="grid" columnClasses="ui-grid-col-3, ui-grid-col-9" styleClass="ui-grid-col-12 without-spaces">            
                <p:panelGrid columns="1" layout="grid" columnClasses="ui-grid-col-12" styleClass="ui-grid-col-12">            
                    <p:outputLabel value="#{bundle.Type}:" indicateRequired="true"/>
                    <p:selectOneRadio id="typeDay" value="#{_bean.editedItem.dayType}" 
                                      disabled="#{_bean.readOnly or _bean.editedItem.standart}" layout="grid" columns="1" >
                        <f:selectItem itemLabel="hollyday" itemValue="Hollyday"/>
                        <f:selectItem itemLabel="workday"  itemValue="Workday" />
                        <p:ajax update="gridWorkTime" event="valueChange" onstart="itemChange = 1;"/>
                    </p:selectOneRadio>
                </p:panelGrid>

                <ui:include src="/view/common/work-time.xhtml">
                    <ui:param name="_readOnly" value="#{_bean.readOnly or _bean.editedItem.standart or _bean.editedItem.dayType ne 'Workday' }"/>
                </ui:include>            
            </p:panelGrid>
        </p:panelGrid>
    </ui:define>
</ui:composition>