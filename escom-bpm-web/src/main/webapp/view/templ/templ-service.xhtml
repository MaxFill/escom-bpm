<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/view/templ/templ-dlg.xhtml">

    <ui:define name="menuActions" >
    </ui:define>

    <ui:define name="toolbarComponents" >
        <p:commandButton value="#{bundle.Refresh}" icon="ui-icon-refresh"
                         update="mainFRM:tblLog" 
                         actionListener="#{_bean.refreshLogEvents()}"/>
        <span class="ui-separator">
            <span class="ui-icon ui-icon-grip-dotted-vertical" />
        </span>
        <p:commandButton value="#{bundle.Clear}" icon="ui-icon-closethick"
                         update="mainFRM:tblLog"
                         actionListener="#{_bean.clearLogEvents()}">
            <p:confirm header="#{bundle.ConfirmAction}" message="#{bundle.AreYouSure}" icon="ui-icon-alert" />
        </p:commandButton>
    </ui:define>
    
    <ui:define name="centerFacet">
        <f:facet name="header">  
            <p:outputLabel value="#{bundle.LogEventHistory}"/>
        </f:facet> 
    </ui:define>
    
    <ui:define name="centerFormContent">
        <ui:include src="/view/services/common/log-events.xhtml"/>
    </ui:define>
    
    <ui:define name="leftFacet">
        <f:facet name="header">
            <p:outputLabel value="#{bundle.ServiceSchedule}"/>
        </f:facet> 
    </ui:define>
    
    <ui:define name="leftFormContent">
        <ui:include src="/view/services/common/sheduler.xhtml"/>
        <p:commandButton id="btnWestSaves" update="mainFRM:westFRM" style="display: none;"/> 
    </ui:define>

    <ui:define name="rightFacet">
        <f:facet name="header">  
            <p:outputLabel value="#{bundle.ServiceParams}"/>
        </f:facet> 
    </ui:define>
    
    <ui:define name="rightFormContent">
        <p:panelGrid columns="1"  columnClasses="ui-grid-col-12" styleClass="ui-panelgrid-blank">                               
            <ui:insert name="serviceParams"/>
        </p:panelGrid>
        <p:commandButton id="btnEastSave" update="mainFRM:eastFRM" style="display: none;" />
    </ui:define>
    
    <ui:define name="southFormContent">
        <p:commandButton value="#{bundle.Save}" id="btnAllSave" icon="ui-icon-disk"
                         title="#{bundle.SaveServiceSettings}" style="float: right;"
                         onclick="document.getElementById('mainFRM:btnWestSaves').click();
                                  document.getElementById('mainFRM:btnEastSave').click();"
                         actionListener="#{_bean.onSaveSettings()}"/>
    </ui:define>

    <ui:define name="dialogs">
        <p:dialog header="#{bundle.Detail}" modal="true" closeOnEscape="true" resizable="true" maximizable="true" widgetVar="dlgDetail">            
            <h:form id="logFRM">
                <p:outputPanel id="logDetailPanel" style="width: 600px; height: 400px;">
                    <p:inputTextarea value="#{_bean.selectedEvent.details}" style="width: 100%; height: 100%;" readonly="true"/>
                </p:outputPanel>
            </h:form>
        </p:dialog>
        <ui:insert name="dialogsAdd"></ui:insert>
    </ui:define>

</ui:composition>

