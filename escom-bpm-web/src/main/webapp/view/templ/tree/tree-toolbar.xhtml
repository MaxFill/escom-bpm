<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:f="http://xmlns.jcp.org/jsf/core"
                 xmlns:h="http://xmlns.jcp.org/jsf/html">
    
    <p:defaultCommand target="mainFRM:accord:btnTreeSearche" />
    
    <p:toolbar id="toolbarTree" styleClass="ui-grid-col-12">
        <p:toolbarGroup styleClass="ui-grid-col-12" rendered="#{_bean.tree != null}">
            
                    <p:commandButton icon="ui-icon-refresh" title="#{bundle.Refresh}"
                                     style="font-size: 90%;"
                                     actionListener="#{_bean.onReloadTreeItems()}"
                                     update="mainFRM:westFRM mainFRM:centerFRM"
                                     onstart="PF('statusDialog').show()"
                                     oncomplete="PF('statusDialog').hide(); initDND()"/>
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                    <p:commandButton icon="ui-icon-folder-open" title="#{bundle.ExpandTree}"
                                     update="mainFRM:westFRM" oncomplete="initDND()"
                                     style="font-size: 90%;"
                                     actionListener="#{_bean.onExpandTree()}"/>
                    <p:commandButton icon="ui-icon-folder-collapsed" title="#{bundle.CollapseTree}"
                                     update="mainFRM:westFRM" oncomplete="initDND()"
                                     style="font-size: 90%;"
                                     actionListener="#{_bean.onCollapseTree()}"/>
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                    <p:commandButton icon="ui-icon-copy" title="#{bundle.Copy}"
                                     style="font-size: 90%;"
                                     disabled="#{_bean.isCanCopyTreeItem()}"
                                     onstart="PF('statusDialog').show()"
                                     oncomplete="PF('statusDialog').hide(); initDND()"
                                     update="mainFRM:accord:toolbarTree"
                                     actionListener="#{_bean.onCopySelectedTreeItem()}"/>

                    <p:commandButton icon="ui-icon-clipboard" title="#{bundle.Paste}"
                                     style="font-size: 90%;"
                                     disabled="#{_bean.canPasteItem}"
                                     onstart="PF('statusDialog').show()"
                                     oncomplete="PF('statusDialog').hide(); initDND()"
                                     actionListener="#{_bean.onPasteItemToTree()}"
                                     update="mainFRM:accord:tree mainFRM:centerFRM"/>
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>

                    <p:commandButton icon="ui-icon-trash" title="#{bundle.MoveToTrash}"
                                     disabled="#{_bean.isCanDeleteTreeItem()}"
                                     style="font-size: 90%;"
                                     onstart="PF('statusDialog').show()"
                                     oncomplete="PF('statusDialog').hide(); initDND();"
                                     update="mainFRM:accord:tree mainFRM:accord:toolbarTree mainFRM:centerFRM #{_updates}"
                                     actionListener="#{_bean.onMoveTreeItemToTrash()}">
                        <p:confirm header="#{bundle.ConfirmDelete}" message="#{bundle.AreYouSure}" icon="ui-icon-alert" />
                    </p:commandButton>

                    <p:inputText value="#{_bean.treeSearcheKey}" title="#{bundle.InputCreteriaForSearche}" id="nameSearche"
                                 disabled="#{!_bean.isShowTree()}"
                                 onkeypress="checkEsc();"
                                 style="font-size: 90%;">
                    </p:inputText>
                    <p:commandButton id="btnTreeSearche" title="#{bundle.Searche}" icon="ui-icon-search"
                                     disabled="#{!_bean.isShowTree()}"
                                     update="mainFRM:westFRM mainFRM:centerFRM #{_updates}"
                                     actionListener="#{_bean.onSearcheInTree()}" style="font-size: 90%;" 
                                     oncomplete="initDND()">
                    </p:commandButton>

            
        </p:toolbarGroup>
    </p:toolbar>
    
    <p:splitButton value="#{bundle.Actions}" icon="ui-icon-gear"
                    rendered="#{false}">
        <p:menuitem icon="ui-icon-plus" value="#{bundle.CreateChildGroup}"                            
                    oncomplete="document.getElementById('mainFRM:createTreeCardBtn').click();"/>                
        <p:menuitem icon="ui-icon-plus" value="#{bundle.CreateInNullLevel}"
                    oncomplete="document.getElementById('mainFRM:createRootTreeCardBtn').click();"/>
    </p:splitButton>    

</ui:composition>