<?xml version='1.0' encoding='UTF-8'?>
<faces-config version="2.2"
              xmlns="http://xmlns.jcp.org/xml/ns/javaee"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd">

    <application>
        
        <el-resolver>
            org.primefaces.application.exceptionhandler.PrimeExceptionHandlerELResolver
        </el-resolver>
    
        <!-- Настройки для PrimeFaces FrameWork dialog -->
        <action-listener>org.primefaces.application.DialogActionListener</action-listener>
        <navigation-handler>org.primefaces.application.DialogNavigationHandler</navigation-handler>
        <view-handler>org.primefaces.application.DialogViewHandler</view-handler>        
        
        <resource-bundle>
            <var>bundle</var>
            <base-name>locale.Bundle</base-name>            
        </resource-bundle>
        
        <resource-bundle>
            <var>validator</var>
            <base-name>locale.validator</base-name>            
        </resource-bundle>
        
        <resource-bundle>
            <var>msg</var>
            <base-name>locale.messages</base-name>            
        </resource-bundle> 
        
        <message-bundle>
            locale.validation_msg
        </message-bundle>     
        
        <locale-config>
            <default-locale>ru</default-locale>
            <supported-locale>en</supported-locale>
        </locale-config>        
		
    </application>
    
    <factory>
        <exception-handler-factory>
           org.primefaces.application.exceptionhandler.PrimeExceptionHandlerFactory
        </exception-handler-factory>
    </factory>
    
    <navigation-rule>
        <from-view-id>*</from-view-id>         
                                
        <navigation-case>
            <from-outcome>proctempl-explorer</from-outcome>
            <to-view-id>/view/processes/templ/proctempl-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>               
        <navigation-case>
            <from-outcome>statusesdoc-explorer</from-outcome>
            <to-view-id>/view/docs/docStatus/statusesdoc-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>doc-explorer</from-outcome>
            <to-view-id>/view/docs/doc-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>process-explorer</from-outcome>
            <to-view-id>/view/processes/process-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>processtype-explorer</from-outcome>
            <to-view-id>/view/processes/types/process-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>num-pattern-explorer</from-outcome>
            <to-view-id>/view/admin/numPattern/num-pattern-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>department-explorer</from-outcome>
            <to-view-id>/view/companies/departaments/department-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>user-explorer</from-outcome>
            <to-view-id>/view/users/user-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>usergroups-explorer</from-outcome>
            <to-view-id>/view/users/groupsUsers/usergroup-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>                    
        <navigation-case>
            <from-outcome>state-explorer</from-outcome>
            <to-view-id>/view/admin/states/state-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>       
        <navigation-case>
            <from-outcome>doctype-explorer</from-outcome>
            <to-view-id>/view/docs/docTypes/doctype-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>partnertypes-explorer</from-outcome>
            <to-view-id>/view/partners/types/partnertypes-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>partnergroups-explorer</from-outcome>
            <to-view-id>/view/partners/groups/partnergroup-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>        
        <navigation-case>
            <from-outcome>partner-explorer</from-outcome>
            <to-view-id>/view/partners/partner-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>post-explorer</from-outcome>
            <to-view-id>/view/staffs/posts/post-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>       
        <navigation-case>
            <from-outcome>staff-explorer</from-outcome>
            <to-view-id>/view/staffs/staff-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case> 
        <navigation-case>
            <from-outcome>folder-explorer</from-outcome>
            <to-view-id>/view/folders/folder-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case>        
        <navigation-case>
            <from-outcome>company-explorer</from-outcome>
            <to-view-id>/view/companies/company-explorer.xhtml</to-view-id>
            <redirect />
        </navigation-case> 
         
        <navigation-case>
            <from-outcome>diagramma</from-outcome>
            <to-view-id>/view/processes/diagramma.xhtml</to-view-id>
        </navigation-case>        
        <navigation-case>
            <from-outcome>remark-card</from-outcome>
            <to-view-id>/view/processes/remarks/remark-card.xhtml</to-view-id>
        </navigation-case> 
        <navigation-case>
            <from-outcome>proctempl-card</from-outcome>
            <to-view-id>/view/processes/templ/proctempl-card.xhtml</to-view-id>
        </navigation-case>        
        <navigation-case>
            <from-outcome>counters</from-outcome>
            <to-view-id>/view/admin/counters/counters.xhtml</to-view-id>
        </navigation-case>        
        <navigation-case>
            <from-outcome>work-time</from-outcome>
            <to-view-id>/view/admin/worktime/work-time.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>calendar</from-outcome>
            <to-view-id>/view/admin/worktime/calendar.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>help-view</from-outcome>
            <to-view-id>/view/admin/help/help-view.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>license-view</from-outcome>
            <to-view-id>/view/admin/license/license-view.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>add-attache</from-outcome>
            <to-view-id>/view/docs/attaches/add-attache.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>messages</from-outcome>
            <to-view-id>/view/messages/messages.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>authlog</from-outcome>
            <to-view-id>/view/admin/users/authlog.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>scheduler</from-outcome>
            <to-view-id>/view/tasks/scheduler.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>monitor</from-outcome>
            <to-view-id>/view/processes/monitor.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>notification</from-outcome>
            <to-view-id>/view/services/notification/notification.xhtml</to-view-id>
        </navigation-case>
        
        <navigation-case>
            <from-outcome>timer-card</from-outcome>
            <to-view-id>/view/processes/elements/timer-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>procedure-card</from-outcome>
            <to-view-id>/view/processes/elements/procedure-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>message-card</from-outcome>
            <to-view-id>/view/processes/elements/message-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>condition-card</from-outcome>
            <to-view-id>/view/processes/elements/condition-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>enter-card</from-outcome>
            <to-view-id>/view/processes/elements/enter-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>exit-card</from-outcome>
            <to-view-id>/view/processes/elements/exit-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>logic-card</from-outcome>
            <to-view-id>/view/processes/elements/logic-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>docstate-card</from-outcome>
            <to-view-id>/view/processes/elements/docstate-card.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>task-card</from-outcome>
            <to-view-id>/view/tasks/task-card.xhtml</to-view-id>
        </navigation-case>
        
        <navigation-case>
            <from-outcome>doclock</from-outcome>
            <to-view-id>/view/docs/locks/doclock.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>doc-count-types</from-outcome>
            <to-view-id>/view/docs/reports/count-types.xhtml</to-view-id>            
        </navigation-case>
        
        <navigation-case>
            <from-outcome>check-release</from-outcome>
            <to-view-id>/view/admin/update/check-release.xhtml</to-view-id>
            <redirect />
        </navigation-case>
       
        <navigation-case>
            <from-outcome>doc-viewer</from-outcome>
            <to-view-id>/view/docs/doc-viewer.xhtml</to-view-id>
            <redirect />
        </navigation-case>
         
        <navigation-case>
            <from-outcome>document</from-outcome>
            <to-view-id>/view/docs/document.xhtml</to-view-id>
            <redirect />
        </navigation-case>                
        <navigation-case>
            <from-outcome>statusesdoc-card</from-outcome>
            <to-view-id>/view/docs/docStatus/statusesdoc-card.xhtml</to-view-id>
        </navigation-case>
            
        <navigation-case>
            <from-outcome>process-card</from-outcome>
            <to-view-id>/view/processes/process-card.xhtml</to-view-id>
        </navigation-case>

        <navigation-case>
            <from-outcome>processtype-card</from-outcome>
            <to-view-id>/view/processes/types/processtype-card.xhtml</to-view-id>
        </navigation-case>

        <navigation-case>
            <from-outcome>scanning</from-outcome>
            <to-view-id>/view/scaner/scanning.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        
        <navigation-case>
            <from-outcome>doc-card</from-outcome>
            <to-view-id>/view/docs/doc-card.xhtml</to-view-id>
        </navigation-case>
        
        <navigation-case>
            <from-outcome>mail-message</from-outcome>
            <to-view-id>/view/services/mail/message.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        
        <navigation-case>
            <from-outcome>mail-sender-service</from-outcome>
            <to-view-id>/view/services/mail/sender-service.xhtml</to-view-id>
            <redirect />
        </navigation-case>

        <navigation-case>
            <from-outcome>mail-reader-service</from-outcome>
            <to-view-id>/view/services/mail/reader-service.xhtml</to-view-id>
            <redirect />
        </navigation-case>

         <navigation-case>
            <from-outcome>ldap</from-outcome>
            <to-view-id>/view/services/ldap/ldap.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        
        <navigation-case>
            <from-outcome>change-password</from-outcome>
            <to-view-id>/view/admin/users/change-password.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        
        <navigation-case>
            <from-outcome>sessions</from-outcome>
            <to-view-id>/view/admin/users/sessions.xhtml</to-view-id>
            <redirect />
        </navigation-case>        
        
        <navigation-case>
            <from-outcome>numeratorpattern-card</from-outcome>
            <to-view-id>/view/admin/numPattern/num-pattern-card.xhtml</to-view-id>
        </navigation-case>
         
        <navigation-case>
            <from-outcome>objects-expl</from-outcome>
            <to-view-id>/view/admin/objects-expl.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        
        <navigation-case>
            <from-outcome>home</from-outcome>
            <to-view-id>/view/index.xhtml</to-view-id>
            <redirect />
        </navigation-case>      
        
        <navigation-case>
            <from-outcome>noSaveDlg</from-outcome>
            <to-view-id>/view/sys/noSaveDlg.xhtml</to-view-id>
        </navigation-case>        
        
        <navigation-case>
            <from-outcome>department-card</from-outcome>
            <to-view-id>/view/companies/departaments/department-card.xhtml</to-view-id>
        </navigation-case>        
        
        <navigation-case>
            <from-outcome>user-card</from-outcome>
            <to-view-id>/view/users/user-card.xhtml</to-view-id>
        </navigation-case>  
        
        <navigation-case>
            <from-outcome>assistant-card</from-outcome>
            <to-view-id>/view/users/assistants/assistant-card.xhtml</to-view-id>
        </navigation-case>  
        
        <navigation-case>
            <from-outcome>user-settings</from-outcome>
            <to-view-id>/view/users/user-settings.xhtml</to-view-id>
        </navigation-case>       
        
        <navigation-case>
            <from-outcome>usergroups-card</from-outcome>
            <to-view-id>/view/users/groupsUsers/usergroup-card.xhtml</to-view-id>
        </navigation-case>        
        
        <navigation-case>
            <from-outcome>state-card</from-outcome>
            <to-view-id>/view/admin/states/state-сard.xhtml</to-view-id>
        </navigation-case>        
        
        <navigation-case>
            <from-outcome>doctypegroups-card</from-outcome>
            <to-view-id>/view/docs/docTypes/doctype-group-card.xhtml</to-view-id>
        </navigation-case>
    
        <navigation-case>
            <from-outcome>doctype-card</from-outcome>
            <to-view-id>/view/docs/docTypes/doctype-card.xhtml</to-view-id>
        </navigation-case>    
   
        <navigation-case>
            <from-outcome>partnertypes-card</from-outcome>
            <to-view-id>/view/partners/types/partnertype-card.xhtml</to-view-id>
            <redirect />
        </navigation-case>             
        
        <navigation-case>
            <from-outcome>partnergroups-card</from-outcome>
            <to-view-id>/view/partners/groups/partnergroup-card.xhtml</to-view-id>
            <redirect />
        </navigation-case>    
        
        <navigation-case>
            <from-outcome>partner-card</from-outcome>
            <to-view-id>/view/partners/partner-card.xhtml</to-view-id>
        </navigation-case>

        <navigation-case>
            <from-outcome>post-card</from-outcome>
            <to-view-id>/view/staffs/posts/post-card.xhtml</to-view-id>
        </navigation-case>                             
        
        <navigation-case>
            <from-outcome>staff-card</from-outcome>
            <to-view-id>/view/staffs/staff-card.xhtml</to-view-id>
        </navigation-case>                 

        <navigation-case>
            <from-outcome>folder-card</from-outcome>
            <to-view-id>/view/folders/folder-card.xhtml</to-view-id>
        </navigation-case>    
                
        <navigation-case>
            <from-outcome>company-card</from-outcome>
            <to-view-id>/view/companies/company-card.xhtml</to-view-id>
            <redirect />
        </navigation-case>               
        
        <navigation-case>
            <from-outcome>object-admin</from-outcome>
            <to-view-id>/view/admin/object-admin.xhtml</to-view-id>
            <redirect />
        </navigation-case>
          
        <navigation-case>
            <from-outcome>error</from-outcome>
            <to-view-id>/view/errors/error.xhtml</to-view-id>
            <redirect />
        </navigation-case> 
    </navigation-rule>
    
    <managed-bean>
        <managed-bean-name>currentDate</managed-bean-name>
        <managed-bean-class>java.util.Date</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean>
    
</faces-config>